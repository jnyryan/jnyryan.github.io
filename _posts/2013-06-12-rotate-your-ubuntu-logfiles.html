---
title: "Rotate your Ubuntu Logfiles"
layout: "post"
permalink: "/2013/06/rotate-your-ubuntu-logfiles.html"
uuid: "2231292098669152309"
guid: "tag:blogger.com,1999:blog-6842749499040869174.post-2231292098669152309"
date: "2013-06-12 12:48:00"
updated: "2013-06-12 12:48:50"
description: 
blogger:
    siteid: "6842749499040869174"
    postid: "2231292098669152309"
    comments: "0"
categories: playing-with-technology
tags: [ubuntu bash]
author: 
    name: "Johnny"
    url: "http://www.blogger.com/profile/05733316879665781472?rel=author"
    image: "http://img2.blogblog.com/img/b16-rounded.gif"
---

<div class="css-full-post-content js-full-post-content">
Running out of diskspace coz you over-log?<br /><br />Well first, there are never too many logs!<br /><br />Managing your logs is the trick. In ubuntu there's a service/daemon that manages this for you called <b>rsyslog</b>, that will ensure your logs are kep in order. The service will delete logs that go stale according to the settings in the config file. Below the process "syslog" is rotated daily, that is every day a new file is created and a index number appended onto the end of the file. The rotate value is set to 2, which means only hold 2 rotated logs and delete the rest. The other services in the config file are set to weekly rotation and to be rotated every 4 weeks.<br /><br /># Edit the config file<br />sudo nano /etc/logrotate.d/rsyslog<br /><br /><span style="font-size: xx-small;">/var/log/syslog</span><br /><span style="font-size: xx-small;">{</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; rotate 2</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; daily</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; missingok</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; notifempty</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; delaycompress</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; compress</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; postrotate</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reload rsyslog &gt;/dev/null 2&gt;&amp;1 || true</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; endscript</span><br /><span style="font-size: xx-small;">}</span><br /><span style="font-size: xx-small;"><br /></span><span style="font-size: xx-small;">/var/log/mail.info</span><br /><span style="font-size: xx-small;">/var/log/mail.warn</span><br /><span style="font-size: xx-small;">/var/log/mail.err</span><br /><span style="font-size: xx-small;">/var/log/mail.log</span><br /><span style="font-size: xx-small;">/var/log/daemon.log</span><br /><span style="font-size: xx-small;">/var/log/kern.log</span><br /><span style="font-size: xx-small;">/var/log/auth.log</span><br /><span style="font-size: xx-small;">/var/log/user.log</span><br /><span style="font-size: xx-small;">/var/log/lpr.log</span><br /><span style="font-size: xx-small;">/var/log/cron.log</span><br /><span style="font-size: xx-small;">/var/log/debug</span><br /><span style="font-size: xx-small;">/var/log/messages</span><br /><span style="font-size: xx-small;">{</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; rotate 4</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; weekly</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; missingok</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; notifempty</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; compress</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; delaycompress</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; sharedscripts</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; postrotate</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reload rsyslog &gt;/dev/null 2&gt;&amp;1 || true</span><br /><span style="font-size: xx-small;">&nbsp; &nbsp; &nbsp; &nbsp; endscript</span><br /><span style="font-size: xx-small;">}</span><br /><br /># Restart the service<br />sudo service rsyslog restart<br /><br /><br />
</div>